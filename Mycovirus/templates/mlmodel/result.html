{% extends "./base.html" %}
{% load static %}

{% block loading %}
<script type="text/javascript">
    window.CSRF_TOKEN = "{{ csrf_token }}";
    let process = "{% url 'process' %}";
</script>
<script type="text/javascript" src="{% static 'js/result.js' %}"></script>
<link rel='stylesheet' href="{% static 'css/result.css' %}">

<div id="loading" >
    <div style="height: 25%;" ></div>
    <div  class="d-flex justify-content-center align-items-center">
        <div class="spinner-border text-secondary" role="status" style="width: 5rem; height: 5rem;">
            <span class="sr-only">Loading...</span>
        </div>
    </div><br>
    <p class="text-center text-secondary">Wait a moment while we making a prediction.</p>
</div>


{% autoescape off %}
<div id="result">
    <header class="jumbotron text-center">
        <h1 class="display-4 ">Thank you!</h1>
        <p class="lead">Please check the bottom below if you want a copy of prediction result.</p>
        <hr class="my-4">
        <p>Having trouble? <a href="mailto:mycovirus.website@mail.com">Contact us</a>.</p>
        <input type="button" class="btn btn-primary btn-lg" role="button" value="Download" onclick="window.open('../download_csv')"/>
    </header>
    <div class="content container mb-5">
        <div class="row">
            <div class="col-12">
                <h2>Result</h2>
                <div id="result_img"></div>
                <div id="result_label" class="result-table-container"></div>
            </div>
        </div>
    </div>
</div>

{% endautoescape %} 
{% endblock %}